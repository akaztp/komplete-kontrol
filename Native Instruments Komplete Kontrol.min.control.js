!function(t,n){var e,r;"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("underscore",n):(t="undefined"!=typeof globalThis?globalThis:t||self,e=t._,(r=t._=n()).noConflict=function(){return t._=e,r})}(this,function(){var t="1.13.1",n="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},r=Array.prototype,u=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,i=r.push,c=r.slice,h=u.toString,e=u.hasOwnProperty,o="undefined"!=typeof ArrayBuffer,a="undefined"!=typeof DataView,f=Array.isArray,l=Object.keys,p=Object.create,d=o&&ArrayBuffer.isView,v=isNaN,g=isFinite,m=!{toString:null}.propertyIsEnumerable("toString"),y=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],b=Math.pow(2,53)-1;function M(i,o){return o=null==o?i.length-1:+o,function(){for(var t=Math.max(arguments.length-o,0),n=Array(t),e=0;e<t;e++)n[e]=arguments[e+o];switch(o){case 0:return i.call(this,n);case 1:return i.call(this,arguments[0],n);case 2:return i.call(this,arguments[0],arguments[1],n)}for(var r=Array(o+1),e=0;e<o;e++)r[e]=arguments[e];return r[o]=n,i.apply(this,r)}}function K(t){var n=typeof t;return"function"==n||"object"==n&&!!t}function O(t){return void 0===t}function w(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)}function _(t){var n="[object "+t+"]";return function(t){return h.call(t)===n}}var E=_("String"),S=_("Number"),j=_("Date"),P=_("RegExp"),A=_("Error"),x=_("Symbol"),D=_("ArrayBuffer"),k=_("Function"),C=n.document&&n.document.childNodes,N=k="function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof C?function(t){return"function"==typeof t||!1}:k,T=_("Object"),I=a&&T(new DataView(new ArrayBuffer(8))),B="undefined"!=typeof Map&&T(new Map),F=_("DataView");var L=I?function(t){return null!=t&&N(t.getInt8)&&D(t.buffer)}:F,R=f||_("Array");function W(t,n){return null!=t&&e.call(t,n)}var z=_("Arguments");!function(){z(arguments)||(z=function(t){return W(t,"callee")})}();var V=z;function U(t){return S(t)&&v(t)}function q(t){return function(){return t}}function $(n){return function(t){t=n(t);return"number"==typeof t&&0<=t&&t<=b}}function J(n){return function(t){return null==t?void 0:t[n]}}var G=J("byteLength"),H=$(G),Q=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var X=o?function(t){return d?d(t)&&!L(t):H(t)&&Q.test(h.call(t))}:q(!1),Y=J("length");function Z(t,n){n=function(n){for(var e={},t=n.length,r=0;r<t;++r)e[n[r]]=!0;return{contains:function(t){return e[t]},push:function(t){return e[t]=!0,n.push(t)}}}(n);var e=y.length,r=t.constructor,i=N(r)&&r.prototype||u,o="constructor";for(W(t,o)&&!n.contains(o)&&n.push(o);e--;)(o=y[e])in t&&t[o]!==i[o]&&!n.contains(o)&&n.push(o)}function tt(t){if(!K(t))return[];if(l)return l(t);var n,e=[];for(n in t)W(t,n)&&e.push(n);return m&&Z(t,e),e}function nt(t,n){var e=tt(n),r=e.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var u=e[o];if(n[u]!==i[u]||!(u in i))return!1}return!0}function et(t){return t instanceof et?t:this instanceof et?void(this._wrapped=t):new et(t)}function rt(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,G(t))}et.VERSION=t,et.prototype.valueOf=et.prototype.toJSON=et.prototype.value=function(){return this._wrapped},et.prototype.toString=function(){return String(this._wrapped)};var it="[object DataView]";function ot(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var i=typeof t;return("function"==i||"object"==i||"object"==typeof n)&&function t(n,e,r,i){n instanceof et&&(n=n._wrapped);e instanceof et&&(e=e._wrapped);var o=h.call(n);if(o!==h.call(e))return!1;if(I&&"[object Object]"==o&&L(n)){if(!L(e))return!1;o=it}switch(o){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:0==+n?1/+n==1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return s.valueOf.call(n)===s.valueOf.call(e);case"[object ArrayBuffer]":case it:return t(rt(n),rt(e),r,i)}var u="[object Array]"===o;if(!u&&X(n)){var a=G(n);if(a!==G(e))return!1;if(n.buffer===e.buffer&&n.byteOffset===e.byteOffset)return!0;u=!0}if(!u){if("object"!=typeof n||"object"!=typeof e)return!1;o=n.constructor,a=e.constructor;if(o!==a&&!(N(o)&&o instanceof o&&N(a)&&a instanceof a)&&"constructor"in n&&"constructor"in e)return!1}r=r||[];i=i||[];var c=r.length;for(;c--;)if(r[c]===n)return i[c]===e;r.push(n);i.push(e);if(u){if((c=n.length)!==e.length)return!1;for(;c--;)if(!ot(n[c],e[c],r,i))return!1}else{var f,l=tt(n);if(c=l.length,tt(e).length!==c)return!1;for(;c--;)if(f=l[c],!W(e,f)||!ot(n[f],e[f],r,i))return!1}r.pop();i.pop();return!0}(t,n,e,r)}function ut(t){if(!K(t))return[];var n,e=[];for(n in t)e.push(n);return m&&Z(t,e),e}function at(r){var i=Y(r);return function(t){if(null==t)return!1;var n=ut(t);if(Y(n))return!1;for(var e=0;e<i;e++)if(!N(t[r[e]]))return!1;return r!==ht||!N(t[ct])}}var ct="forEach",ft=["clear","delete"],lt=["get","has","set"],st=ft.concat(ct,lt),ht=ft.concat(lt),pt=["add"].concat(ft,ct,"has"),dt=B?at(st):_("Map"),vt=B?at(ht):_("WeakMap"),gt=B?at(pt):_("Set"),mt=_("WeakSet");function yt(t){for(var n=tt(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=t[n[i]];return r}function bt(t){for(var n={},e=tt(t),r=0,i=e.length;r<i;r++)n[t[e[r]]]=e[r];return n}function Mt(t){var n,e=[];for(n in t)N(t[n])&&e.push(n);return e.sort()}function Kt(c,f){return function(t){var n=arguments.length;if(f&&(t=Object(t)),n<2||null==t)return t;for(var e=1;e<n;e++)for(var r=arguments[e],i=c(r),o=i.length,u=0;u<o;u++){var a=i[u];f&&void 0!==t[a]||(t[a]=r[a])}return t}}var Ot=Kt(ut),wt=Kt(tt),_t=Kt(ut,!0);function Et(t){if(!K(t))return{};if(p)return p(t);var n=function(){};n.prototype=t;t=new n;return n.prototype=null,t}function St(t){return K(t)?R(t)?t.slice():Ot({},t):t}function jt(t){return R(t)?t:[t]}function Pt(t){return et.toPath(t)}function At(t,n){for(var e=n.length,r=0;r<e;r++){if(null==t)return;t=t[n[r]]}return e?t:void 0}function xt(t,n,e){n=At(t,Pt(n));return O(n)?e:n}function Dt(t){return t}function kt(n){return n=wt({},n),function(t){return nt(t,n)}}function Ct(n){return n=Pt(n),function(t){return At(t,n)}}function Nt(i,o,t){if(void 0===o)return i;switch(null==t?3:t){case 1:return function(t){return i.call(o,t)};case 3:return function(t,n,e){return i.call(o,t,n,e)};case 4:return function(t,n,e,r){return i.call(o,t,n,e,r)}}return function(){return i.apply(o,arguments)}}function Tt(t,n,e){return null==t?Dt:N(t)?Nt(t,n,e):(K(t)&&!R(t)?kt:Ct)(t)}function It(t,n){return Tt(t,n,1/0)}function Bt(t,n,e){return et.iteratee!==It?et.iteratee(t,n):Tt(t,n,e)}function Ft(){}function Lt(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))}et.toPath=jt,et.iteratee=It;var Rt=Date.now||function(){return(new Date).getTime()};function Wt(n){function e(t){return n[t]}var t="(?:"+tt(n).join("|")+")",r=RegExp(t),i=RegExp(t,"g");return function(t){return r.test(t=null==t?"":""+t)?t.replace(i,e):t}}var zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Vt=Wt(zt),Ut=Wt(bt(zt)),qt=et.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},$t=/(.)^/,Jt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Gt=/\\|'|\r|\n|\u2028|\u2029/g;function Ht(t){return"\\"+Jt[t]}var Qt=/^\s*(\w|\$)+\s*$/;var Xt=0;function Yt(t,n,e,r,i){if(!(r instanceof n))return t.apply(e,i);e=Et(t.prototype),i=t.apply(e,i);return K(i)?i:e}var Zt=M(function(i,o){function u(){for(var t=0,n=o.length,e=Array(n),r=0;r<n;r++)e[r]=o[r]===a?arguments[t++]:o[r];for(;t<arguments.length;)e.push(arguments[t++]);return Yt(i,u,this,this,e)}var a=Zt.placeholder;return u});Zt.placeholder=et;var tn=M(function(n,e,r){if(!N(n))throw new TypeError("Bind must be called on a function");var i=M(function(t){return Yt(n,i,e,this,r.concat(t))});return i}),nn=$(Y);function en(t,n,e,r){if(r=r||[],n||0===n){if(n<=0)return r.concat(t)}else n=1/0;for(var i=r.length,o=0,u=Y(t);o<u;o++){var a=t[o];if(nn(a)&&(R(a)||V(a)))if(1<n)en(a,n-1,e,r),i=r.length;else for(var c=0,f=a.length;c<f;)r[i++]=a[c++];else e||(r[i++]=a)}return r}var rn=M(function(t,n){var e=(n=en(n,!1,!1)).length;if(e<1)throw new Error("bindAll must be passed function names");for(;e--;){var r=n[e];t[r]=tn(t[r],t)}return t});var on=M(function(t,n,e){return setTimeout(function(){return t.apply(null,e)},n)}),un=Zt(on,et,1);function an(t){return function(){return!t.apply(this,arguments)}}function cn(t,n){var e;return function(){return 0<--t&&(e=n.apply(this,arguments)),t<=1&&(n=null),e}}n=Zt(cn,2);function fn(t,n,e){n=Bt(n,e);for(var r,i=tt(t),o=0,u=i.length;o<u;o++)if(n(t[r=i[o]],r,t))return r}function ln(o){return function(t,n,e){n=Bt(n,e);for(var r=Y(t),i=0<o?0:r-1;0<=i&&i<r;i+=o)if(n(t[i],i,t))return i;return-1}}var sn=ln(1),C=ln(-1);function hn(t,n,e,r){for(var i=(e=Bt(e,r,1))(n),o=0,u=Y(t);o<u;){var a=Math.floor((o+u)/2);e(t[a])<i?o=a+1:u=a}return o}function pn(o,u,a){return function(t,n,e){var r=0,i=Y(t);if("number"==typeof e)0<o?r=0<=e?e:Math.max(e+i,r):i=0<=e?Math.min(e+1,i):e+i+1;else if(a&&e&&i)return t[e=a(t,n)]===n?e:-1;if(n!=n)return 0<=(e=u(c.call(t,r,i),U))?e+r:-1;for(e=0<o?r:i-1;0<=e&&e<i;e+=o)if(t[e]===n)return e;return-1}}var dn=pn(1,sn,hn),k=pn(-1,C);function vn(t,n,e){e=(nn(t)?sn:fn)(t,n,e);if(void 0!==e&&-1!==e)return t[e]}function gn(t,n,e){if(n=Nt(n,e),nn(t))for(i=0,o=t.length;i<o;i++)n(t[i],i,t);else for(var r=tt(t),i=0,o=r.length;i<o;i++)n(t[r[i]],r[i],t);return t}function mn(t,n,e){n=Bt(n,e);for(var r=!nn(t)&&tt(t),i=(r||t).length,o=Array(i),u=0;u<i;u++){var a=r?r[u]:u;o[u]=n(t[a],a,t)}return o}function yn(c){return function(t,n,e,r){var i=3<=arguments.length;return function(t,n,e,r){var i=!nn(t)&&tt(t),o=(i||t).length,u=0<c?0:o-1;for(r||(e=t[i?i[u]:u],u+=c);0<=u&&u<o;u+=c){var a=i?i[u]:u;e=n(e,t[a],a,t)}return e}(t,Nt(n,r,4),e,i)}}a=yn(1),T=yn(-1);function bn(t,r,n){var i=[];return r=Bt(r,n),gn(t,function(t,n,e){r(t,n,e)&&i.push(t)}),i}function Mn(t,n,e){n=Bt(n,e);for(var r=!nn(t)&&tt(t),i=(r||t).length,o=0;o<i;o++){var u=r?r[o]:o;if(!n(t[u],u,t))return!1}return!0}function Kn(t,n,e){n=Bt(n,e);for(var r=!nn(t)&&tt(t),i=(r||t).length,o=0;o<i;o++){var u=r?r[o]:o;if(n(t[u],u,t))return!0}return!1}function On(t,n,e,r){return nn(t)||(t=yt(t)),0<=dn(t,n,e="number"!=typeof e||r?0:e)}F=M(function(t,e,r){var i,o;return N(e)?o=e:(e=Pt(e),i=e.slice(0,-1),e=e[e.length-1]),mn(t,function(t){var n=o;if(!n){if(null==(t=i&&i.length?At(t,i):t))return;n=t[e]}return null==n?n:n.apply(t,r)})});function wn(t,n){return mn(t,Ct(n))}function _n(t,r,n){var e,i,o=-1/0,u=-1/0;if(null==r||"number"==typeof r&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=nn(t)?t:yt(t)).length;a<c;a++)null!=(e=t[a])&&o<e&&(o=e);else r=Bt(r,n),gn(t,function(t,n,e){i=r(t,n,e),(u<i||i===-1/0&&o===-1/0)&&(o=t,u=i)});return o}function En(t,n,e){if(null==n||e)return(t=!nn(t)?yt(t):t)[Lt(t.length-1)];var r=(nn(t)?St:yt)(t),t=Y(r);n=Math.max(Math.min(n,t),0);for(var i=t-1,o=0;o<n;o++){var u=Lt(o,i),a=r[o];r[o]=r[u],r[u]=a}return r.slice(0,n)}function Sn(o,n){return function(e,r,t){var i=n?[[],[]]:{};return r=Bt(r,t),gn(e,function(t,n){n=r(t,n,e);o(i,t,n)}),i}}var f=Sn(function(t,n,e){W(t,e)?t[e].push(n):t[e]=[n]}),o=Sn(function(t,n,e){t[e]=n}),lt=Sn(function(t,n,e){W(t,e)?t[e]++:t[e]=1}),ft=Sn(function(t,n,e){t[e?0:1].push(n)},!0),jn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Pn(t,n,e){return n in e}var An=M(function(t,n){var e={},r=n[0];if(null==t)return e;N(r)?(1<n.length&&(r=Nt(r,n[1])),n=ut(t)):(r=Pn,n=en(n,!1,!1),t=Object(t));for(var i=0,o=n.length;i<o;i++){var u=n[i],a=t[u];r(a,u,t)&&(e[u]=a)}return e}),st=M(function(t,e){var n,r=e[0];return N(r)?(r=an(r),1<e.length&&(n=e[1])):(e=mn(en(e,!1,!1),String),r=function(t,n){return!On(e,n)}),An(t,r,n)});function xn(t,n,e){return c.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))}function Dn(t,n,e){return null==t||t.length<1?null==n||e?void 0:[]:null==n||e?t[0]:xn(t,t.length-n)}function kn(t,n,e){return c.call(t,null==n||e?1:n)}var Cn=M(function(t,n){return n=en(n,!0,!0),bn(t,function(t){return!On(n,t)})}),B=M(function(t,n){return Cn(t,n)});function Nn(t,n,e,r){w(n)||(r=e,e=n,n=!1),null!=e&&(e=Bt(e,r));for(var i=[],o=[],u=0,a=Y(t);u<a;u++){var c=t[u],f=e?e(c,u,t):c;n&&!e?(u&&o===f||i.push(c),o=f):e?On(o,f)||(o.push(f),i.push(c)):On(i,c)||i.push(c)}return i}pt=M(function(t){return Nn(en(t,!0,!0))});function Tn(t){for(var n=t&&_n(t,Y).length||0,e=Array(n),r=0;r<n;r++)e[r]=wn(t,r);return e}zt=M(Tn);function In(t,n){return t._chain?et(n).chain():n}function Bn(e){return gn(Mt(e),function(t){var n=et[t]=e[t];et.prototype[t]=function(){var t=[this._wrapped];return i.apply(t,arguments),In(this,n.apply(et,t))}}),et}gn(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var e=r[n];et.prototype[n]=function(){var t=this._wrapped;return null!=t&&(e.apply(t,arguments),"shift"!==n&&"splice"!==n||0!==t.length||delete t[0]),In(this,t)}}),gn(["concat","join","slice"],function(t){var n=r[t];et.prototype[t]=function(){var t=this._wrapped;return In(this,t=null!=t?n.apply(t,arguments):t)}});zt=Bn({__proto__:null,VERSION:t,restArguments:M,isObject:K,isNull:function(t){return null===t},isUndefined:O,isBoolean:w,isElement:function(t){return!(!t||1!==t.nodeType)},isString:E,isNumber:S,isDate:j,isRegExp:P,isError:A,isSymbol:x,isArrayBuffer:D,isDataView:L,isArray:R,isFunction:N,isArguments:V,isFinite:function(t){return!x(t)&&g(t)&&!isNaN(parseFloat(t))},isNaN:U,isTypedArray:X,isEmpty:function(t){if(null==t)return!0;var n=Y(t);return"number"==typeof n&&(R(t)||E(t)||V(t))?0===n:0===Y(tt(t))},isMatch:nt,isEqual:function(t,n){return ot(t,n)},isMap:dt,isWeakMap:vt,isSet:gt,isWeakSet:mt,keys:tt,allKeys:ut,values:yt,pairs:function(t){for(var n=tt(t),e=n.length,r=Array(e),i=0;i<e;i++)r[i]=[n[i],t[n[i]]];return r},invert:bt,functions:Mt,methods:Mt,extend:Ot,extendOwn:wt,assign:wt,defaults:_t,create:function(t,n){return t=Et(t),n&&wt(t,n),t},clone:St,tap:function(t,n){return n(t),t},get:xt,has:function(t,n){for(var e=(n=Pt(n)).length,r=0;r<e;r++){var i=n[r];if(!W(t,i))return!1;t=t[i]}return!!e},mapObject:function(t,n,e){n=Bt(n,e);for(var r=tt(t),i=r.length,o={},u=0;u<i;u++){var a=r[u];o[a]=n(t[a],a,t)}return o},identity:Dt,constant:q,noop:Ft,toPath:jt,property:Ct,propertyOf:function(n){return null==n?Ft:function(t){return xt(n,t)}},matcher:kt,matches:kt,times:function(t,n,e){var r=Array(Math.max(0,t));n=Nt(n,e,1);for(var i=0;i<t;i++)r[i]=n(i);return r},random:Lt,now:Rt,escape:Vt,unescape:Ut,templateSettings:qt,template:function(o,t,n){t=_t({},t=!t&&n?n:t,et.templateSettings);var e,n=RegExp([(t.escape||$t).source,(t.interpolate||$t).source,(t.evaluate||$t).source].join("|")+"|$","g"),u=0,a="__p+='";if(o.replace(n,function(t,n,e,r,i){return a+=o.slice(u,i).replace(Gt,Ht),u=i+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":e?a+="'+\n((__t=("+e+"))==null?'':__t)+\n'":r&&(a+="';\n"+r+"\n__p+='"),t}),a+="';\n",n=t.variable){if(!Qt.test(n))throw new Error("variable is not a bare identifier: "+n)}else a="with(obj||{}){\n"+a+"}\n",n="obj";a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(n,"_",a)}catch(t){throw t.source=a,t}return(t=function(t){return e.call(this,t,et)}).source="function("+n+"){\n"+a+"}",t},result:function(t,n,e){var r=(n=Pt(n)).length;if(!r)return N(e)?e.call(t):e;for(var i=0;i<r;i++){var o=null==t?void 0:t[n[i]];void 0===o&&(o=e,i=r),t=N(o)?o.call(t):o}return t},uniqueId:function(t){var n=++Xt+"";return t?t+n:n},chain:function(t){return(t=et(t))._chain=!0,t},iteratee:It,partial:Zt,bind:tn,bindAll:rn,memoize:function(r,i){function o(t){var n=o.cache,e=""+(i?i.apply(this,arguments):t);return W(n,e)||(n[e]=r.apply(this,arguments)),n[e]}return o.cache={},o},delay:on,defer:un,throttle:function(e,r,i){var o,u,a,c,f=0;function l(){f=!1===i.leading?0:Rt(),o=null,c=e.apply(u,a),o||(u=a=null)}function t(){var t=Rt();f||!1!==i.leading||(f=t);var n=r-(t-f);return u=this,a=arguments,n<=0||r<n?(o&&(clearTimeout(o),o=null),f=t,c=e.apply(u,a),o||(u=a=null)):o||!1===i.trailing||(o=setTimeout(l,n)),c}return i=i||{},t.cancel=function(){clearTimeout(o),f=0,o=u=a=null},t},debounce:function(n,e,r){function i(){var t=Rt()-u;t<e?o=setTimeout(i,e-t):(o=null,r||(c=n.apply(f,a)),o||(a=f=null))}var o,u,a,c,f,t=M(function(t){return f=this,a=t,u=Rt(),o||(o=setTimeout(i,e),r&&(c=n.apply(f,a))),c});return t.cancel=function(){clearTimeout(o),o=a=f=null},t},wrap:function(t,n){return Zt(n,t)},negate:an,compose:function(){var e=arguments,r=e.length-1;return function(){for(var t=r,n=e[r].apply(this,arguments);t--;)n=e[t].call(this,n);return n}},after:function(t,n){return function(){if(--t<1)return n.apply(this,arguments)}},before:cn,once:n,findKey:fn,findIndex:sn,findLastIndex:C,sortedIndex:hn,indexOf:dn,lastIndexOf:k,find:vn,detect:vn,findWhere:function(t,n){return vn(t,kt(n))},each:gn,forEach:gn,map:mn,collect:mn,reduce:a,foldl:a,inject:a,reduceRight:T,foldr:T,filter:bn,select:bn,reject:function(t,n,e){return bn(t,an(Bt(n)),e)},every:Mn,all:Mn,some:Kn,any:Kn,contains:On,includes:On,include:On,invoke:F,pluck:wn,where:function(t,n){return bn(t,kt(n))},max:_n,min:function(t,r,n){var e,i,o=1/0,u=1/0;if(null==r||"number"==typeof r&&"object"!=typeof t[0]&&null!=t)for(var a=0,c=(t=nn(t)?t:yt(t)).length;a<c;a++)null!=(e=t[a])&&e<o&&(o=e);else r=Bt(r,n),gn(t,function(t,n,e){((i=r(t,n,e))<u||i===1/0&&o===1/0)&&(o=t,u=i)});return o},shuffle:function(t){return En(t,1/0)},sample:En,sortBy:function(t,r,n){var i=0;return r=Bt(r,n),wn(mn(t,function(t,n,e){return{value:t,index:i++,criteria:r(t,n,e)}}).sort(function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(r<e||void 0===e)return 1;if(e<r||void 0===r)return-1}return t.index-n.index}),"value")},groupBy:f,indexBy:o,countBy:lt,partition:ft,toArray:function(t){return t?R(t)?c.call(t):E(t)?t.match(jn):nn(t)?mn(t,Dt):yt(t):[]},size:function(t){return null==t?0:(nn(t)?t:tt(t)).length},pick:An,omit:st,first:Dn,head:Dn,take:Dn,initial:xn,last:function(t,n,e){return null==t||t.length<1?null==n||e?void 0:[]:null==n||e?t[t.length-1]:kn(t,Math.max(0,t.length-n))},rest:kn,tail:kn,drop:kn,compact:function(t){return bn(t,Boolean)},flatten:function(t,n){return en(t,n,!1)},without:B,uniq:Nn,unique:Nn,union:pt,intersection:function(t){for(var n=[],e=arguments.length,r=0,i=Y(t);r<i;r++){var o=t[r];if(!On(n,o)){for(var u=1;u<e&&On(arguments[u],o);u++);u===e&&n.push(o)}}return n},difference:Cn,unzip:Tn,transpose:Tn,zip:zt,object:function(t,n){for(var e={},r=0,i=Y(t);r<i;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},range:function(t,n,e){null==n&&(n=t||0,t=0),e=e||(n<t?-1:1);for(var r=Math.max(Math.ceil((n-t)/e),0),i=Array(r),o=0;o<r;o++,t+=e)i[o]=t;return i},chunk:function(t,n){if(null==n||n<1)return[];for(var e=[],r=0,i=t.length;r<i;)e.push(c.call(t,r,r+=n));return e},mixin:Bn,default:et});return zt._=zt}),function(t){"use strict";t.loadAPI(12)}(this),function(t,n){"use strict";var r="f0 00 00 66 14 12 ",i={statusMessage:function(t){t=n.map(t,i.encode);return r+"00 "+t.join("19 ")+"f7"},displayMessage:function(t,n){for(var e=n?i.encode(n.substr(0,28)):"";e.length<84;)e+="20 ";return r+i.hex(28*Math.min(t,3))+e+"f7"},encode:function(t){var n,e="",r=0;if(t&&t.length)for(;r<t.length;r++)e+=127<(n=t.charCodeAt(r))?"5f ":i.hex(n);return e},hex:function(t){return(t<16?"0"+t.toString(16):t.toString(16))+" "}};t.KompleteKontrol||(t.KompleteKontrol={}),t.KompleteKontrol.utils=i,t.KompleteKontrol.vstID=1315523403}(this,(host,_)),function(t,e){"use strict";function n(t){this.midiOut=t,this.transport=e.createTransport(),this.elements=[],this.elements.length=10,this.isPlaying=!1,this.ffwOn=!1,this.rwdOn=!1,this.initialize()}t.KompleteKontrol.utils;n.prototype={initialize:function(){var n=this,e=n.midiOut,t=n.transport;this.createElement(86,{on:function(){t.toggleLoop()}}),this.createElement(91,{on:function(){e.sendMidi(144,91,127),n.rewindMomentary(!0)},off:function(){e.sendMidi(144,91,0),n.rewindMomentary(!1)}}),this.createElement(92,{on:function(){e.sendMidi(144,92,127),n.fastForwardMomentary(!0)},off:function(){e.sendMidi(144,92,0),n.fastForwardMomentary(!1)}}),this.createElement(93,{on:function(){t.stop()}}),this.createElement(94,{on:function(){t.play()}}),this.createElement(95,{on:function(){t.record()}}),t.addIsLoopActiveObserver(function(t){e.sendMidi(144,86,t?127:0)}),t.addIsPlayingObserver(function(t){e.sendMidi(144,94,t?127:0),e.sendMidi(144,93,t?0:127),n.isPlaying=t}),t.addIsRecordingObserver(function(t){e.sendMidi(144,95,t?127:0)})},flush:function(){},exit:function(){},onMidi1:function(t,n,e){128===t?this.onMidiNote(n,0):144===t&&this.onMidiNote(n,e)},onMidiNote:function(t,n){t=86<=t&&t<=95?this.elements[t-86]:void 0;t&&(0!==n?t.on&&t.on.call(this):t.off&&t.off.call(this))},createElement:function(t,n){this.elements[t-86]=n},fastForwardMomentary:function(){var t=this,n=this.transport;0<arguments.length&&(this.ffwOn=arguments[0]),this.ffwOn&&(this.considerPlaying(n.fastForward),e.scheduleTask(function(){t.fastForwardMomentary()},null,100))},rewindMomentary:function(){var t=this,n=this.transport;0<arguments.length&&(this.rwdOn=arguments[0]),this.rwdOn&&(this.considerPlaying(n.rewind),e.scheduleTask(function(){t.rewindMomentary()},null,100))},considerPlaying:function(t){var n=this.transport;this.isPlaying?(n.stop(),t(),e.scheduleTask(function(){n.play()},null,50)):t()}},t.KompleteKontrol||(t.KompleteKontrol={}),t.KompleteKontrol.TransportController=n}(this,host,_),function(e){"use strict";function t(t,n,e){this.midiOut=t,this.track=n,this.deviceBank=n.createDeviceBank(3),this.kkDeviceMatcher=e,this.status={track:void 0,device:void 0,id:void 0,hasChanged:!1},this.elements=[],this.elements.length=2,this.initialize()}var r=e.KompleteKontrol.utils,i=e.KompleteKontrol.vstID;t.prototype={initialize:function(){var t=this.track,n=this.deviceBank,e=this.status;n.setDeviceMatcher(this.kkDeviceMatcher),t.addNameObserver(28,"",function(t){e.track=t,e.hasChanged=!0}),t.addPositionObserver(function(t){n.getDevice(0).selectInEditor(),e.trackPosition=t,e.hasChanged=!0}),n.getDevice(0).addNameObserver(28,"",function(t){t&&(e.device=t,e.hasChanged=!0)}),n.getDevice(0).createSpecificVst2Device(i).createParameter(0).addNameObserver(28,"",function(t){e.id=t.substring("NIKB".length),e.hasChanged=!0}),this.createElement(20,{on:function(){t.selectPrevious()}}),this.createElement(21,{on:function(){t.selectNext()}})},flush:function(){this.sendStatus()},exit:function(){},onMidi1:function(t,n,e){176===t&&this.onMidiCC(n,e)},onMidiCC:function(t,n){t=20<=t&&t<=21?this.elements[t-20]:void 0;t&&(0!==n?t.on&&t.on.call(this):t.off&&t.off.call(this))},createElement:function(t,n){this.elements[t-20]=n},sendStatus:function(){var t,n=this.status;n.hasChanged&&0<=n.trackPosition&&(t=[],e.println("## flush track:["+n.track+"] position:["+n.trackPosition+"] device:["+n.device+"] id:["+n.id+"]"),t.push(n.track),t.push(n.trackPosition.toString()),n.device&&0<n.device.length&&(t.push(n.device),n.id&&t.push(n.id)),this.midiOut.sendSysex(r.statusMessage(t)),n.hasChanged=!1)}},e.KompleteKontrol||(e.KompleteKontrol={}),e.KompleteKontrol.FocusController=t}(this,(host,_)),function(t,a,c){"use strict";function n(t,n){this.midiOut=t,this.device=n,this.elements=[],this.elements.length=119,this.initialize()}t.KompleteKontrol.utils;n.prototype={initialize:function(){var e=this.elements,t=this.device,n=c.range(14,22),r=c.difference(c.range(1,120),n),i=a.createUserControls(r.length),o=0;c.each(r,function(t){var n=i.getControl(o);n.setLabel("CC"+(1e3+t).toString().substring(1)),e[t-1]=n,o++});var u=t.createCursorRemoteControlsPage(8);c.each(n,function(t){var n=u.getParameter(t-14);n.setIndication(!0),e[t-1]=n})},onMidi0:function(t,n,e){176===t&&this.onMidiCC(n,e)},onMidiCC:function(t,n){var e=this.elements,t=t-1;0<=t&&t<e.length&&e[t].set(n,128)},flush:function(){},exit:function(){}},t.KompleteKontrol||(t.KompleteKontrol={}),t.KompleteKontrol.DeviceController=n}(this,host,_),function(t,a,c,i){"use strict";var f,l=t.NoteExpression;function s(n,e,r){i.each(f,function(t){i.isFunction(t.onMidi0)&&t.onMidi0(n,e,r)})}function h(n,e,r){i.each(f,function(t){i.isFunction(t.onMidi1)&&t.onMidi1(n,e,r)})}a.defineController("Native Instruments","Komplete Kontrol S Series Mk1","0.3","6edb3760-4fb6-11e4-916c-0800200c9a66","in@ztp.pt"),a.defineMidiPorts(2,2),a.platformIsMac()?(a.addDeviceNameBasedDiscoveryPair(["KOMPLETE KONTROL S61 Port 1","Komplete Kontrol DAW - 1"],["KOMPLETE KONTROL S61 Port 1","Komplete Kontrol DAW - 1"]),a.addDeviceNameBasedDiscoveryPair(["KOMPLETE KONTROL S49 Port 1","Komplete Kontrol DAW - 1"],["KOMPLETE KONTROL S49 Port 1","Komplete Kontrol DAW - 1"]),a.addDeviceNameBasedDiscoveryPair(["KOMPLETE KONTROL S25 Port 1","Komplete Kontrol DAW - 1"],["KOMPLETE KONTROL S25 Port 1","Komplete Kontrol DAW - 1"])):a.platformIsWindows()&&a.addDeviceNameBasedDiscoveryPair(["Komplete Kontrol - 1","Komplete Kontrol DAW - 1"],["Komplete Kontrol - 1","Komplete Kontrol DAW - 1"]),t.init=function(){var t=a.getMidiInPort(0),n=a.getMidiInPort(1),e=(a.getMidiOutPort(0),a.getMidiOutPort(1)),r=t.createNoteInput("","??????"),i=a.createArrangerCursorTrack(3,0),o=i.createCursorDevice(),u=a.createVST2DeviceMatcher(c.vstID);t.setMidiCallback(s),n.setMidiCallback(h),r.setShouldConsumeEvents(!1),r.assignPolyphonicAftertouchToExpression(0,l.TIMBRE_UP,2),f=[new c.TransportController(e),new c.FocusController(e,i,u),new c.DeviceController(e,o)]},t.flush=function(){i.each(f,function(t){i.isFunction(t.flush)&&t.flush()})},t.exit=function(){i.each(f.reverse(),function(t){i.isFunction(t.exit)&&t.exit()}),f=void 0}}(this,host,this.KompleteKontrol,_);